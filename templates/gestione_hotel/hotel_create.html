<!-- templates/gestione_hotel/hotel_create.html -->

{% extends "base.html" %}
<!-- üëá 1. Carichiamo il tag library di crispy in cima al file -->
{% load crispy_forms_tags %}
    
{% block title %}
    <!-- Se abbiamo un hotel (siamo in modifica), usiamo il suo nome,
         altrimenti usiamo il testo generico per la creazione -->
    {% if hotel %}
        Modifica {{ hotel.nome }}
    {% else %}
        Crea Nuovo Hotel
    {% endif %}
{% endblock %}
    
{% block content %}
    <!-- Anche qui, titolo dinamico -->
    {% if hotel %}
        <h2>‚úèÔ∏è Modifica Dati per: {{ hotel.nome }}</h2>
    {% else %}
        <h2>‚ûï Crea un Nuovo Hotel</h2>
    {% endif %}
    
    <form method="post">
        {% csrf_token %}
    
        <!-- üëá 2. SOSTITUIAMO {{ form.as_p }} CON QUESTO! -->
        {{ form|crispy }}
    
        <button type="submit" class="btn btn-primary mt-3">Salva Modifiche</button>
    </form>

    <!-- Aggiungiamo un link per annullare e tornare indietro -->
    {% if hotel %}
        <p><a href="{% url 'hotel:hotel_detail' hotel.pk %}">Annulla</a></p>
                <a href="{% url 'hotel:hotel_delete' hotel.pk %}" style="color: red;">
            Elimina questo hotel
        </a>
    {% endif %}
{% endblock %}